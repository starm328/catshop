!function(n,t){return"undefined"!=typeof module&&module.exports?module.exports=t():"undefined"!=typeof define&&define.amd?n.define(t):n.Ajax=t()}(this,function(){"use strict";function n(n){function t(n){var e=[],r=function(r){var u=n[r];u instanceof Object?t(u).forEach(function(n){return e.push("["+r+"]"+n)}):e.push("["+r+"]="+encodeURIComponent(u))};for(var u in n)r(u);return e}var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=e.split("#")[0];var r=e?e.indexOf("?")+1?"&":"?":"",u=function(u){var a=n[u];e+=a instanceof Object?r+t(a).map(function(n){return u+n}).join("&"):r+u+"="+encodeURIComponent(n[u]),r="&"};for(var a in n)u(a);return e}function t(n){var t=document.createElement("a");return t.href=n,n.origin!==location.origin}var e=function(n,t,e,r){function u(n){return n.when=function(t,e){if(t in a)throw"Http status "+t+" has already been listeners.";return a[t]=e,n},n["else"]=function(t){return a[0]=t,n},n}var a={0:function(n){return n.status<400?Promise.resolve(n):Promise.reject(n)}},s=new Promise(function(u,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState){var n={status:s.status,statusText:s.statusText,content:s.responseText,getHeader:function(n){return s.getResponseHeader(n)}};try{n.json=JSON.parse(s.responseText)}catch(t){n.json=null}u(n)}},s.open(n,t,!0);for(var o in e)s.setRequestHeader(o,e[o]);s.send(r)});return u(s.then(function(n){return n.status in a?a[n.status](n):a[0](n)}))};return{OPTIONS:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("OPTIONS",n,t,null)},HEAD:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("HEAD",n,t,null)},GET:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("GET",n,t,null)},DELETE:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("DELETE",n,t,null)},POST:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e("POST",n,r,t)},PUT:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e("PUT",n,r,t)},PATCH:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e("PATCH",n,r,t)},get:function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(r)||(a["X-Requested-With"]="XMLHttpRequest"),e("GET",n(u,r),a)},post:function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(r)||(a["X-Requested-With"]="XMLHttpRequest"),a["Content-Type"]="application/x-www-form-urlencoded",e("POST",r,a,n(u))},put:function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(r)||(a["X-Requested-With"]="XMLHttpRequest"),a["Content-Type"]="application/x-www-form-urlencoded",e("PUT",r,a,n(u))},patch:function(r){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(r)||(a["X-Requested-With"]="XMLHttpRequest"),a["Content-Type"]="application/x-www-form-urlencoded",e("PATCH",r,a,n(u))}}});
